/**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

!function(){var e,t={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(t){var n,a,o=t.config,i=o.baseHref?'<base href="'+o.baseHref+'"/>':"";if(o.fullPage)n=t.getData().replace(/<head>/,"$&"+i).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+t.lang.preview.preview);else{var r="<body ",l=t.document&&t.document.getBody();l&&(l.getAttribute("id")&&(r+='id="'+l.getAttribute("id")+'" '),l.getAttribute("class")&&(r+='class="'+l.getAttribute("class")+'" ')),r+=">",n=t.config.docType+'<html dir="'+t.config.contentsLangDirection+'"><head>'+i+"<title>"+t.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(t.config.contentsCss)+"</head>"+r+t.getData()+"</body></html>"}var d=640,c=420,s=80;try{var u=window.screen;d=Math.round(.8*u.width),c=Math.round(.7*u.height),s=Math.round(.1*u.width)}catch(h){}if(t.fire("contentPreview",a={dataValue:n})===!1)return!1;var w,g="";CKEDITOR.env.ie&&(window._cke_htmlToLoad=a.dataValue,w="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",g=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=a.dataValue,g=CKEDITOR.getUrl(e+"preview.html"));var v=window.open(g,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+d+",height="+c+",left="+s);if(CKEDITOR.env.ie&&v&&(v.location=w),!CKEDITOR.env.ie&&!CKEDITOR.env.gecko){var p=v.document;p.open(),p.write(a.dataValue),p.close()}return!0}},n="preview";CKEDITOR.plugins.add(n,{lang:"af,ar,bg,bn,bs,ca,cs,cy,da,de,el,en,en-au,en-ca,en-gb,eo,es,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",icons:"preview,preview-rtl",hidpi:!0,init:function(a){a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(e=this.path,a.addCommand(n,t),a.ui.addButton&&a.ui.addButton("Preview",{label:a.lang.preview.preview,command:n,toolbar:"document,40"}))}})}();